/*
 * @file     graphic_interface.c
 *
 * @Authors  Juan Pablo Villanueva
 *           Jose Angel Gonzalez
 *
 * @brief    Source file related to the displaying of characters and symbols
 *           on screen, as well as determining if a touch event should trigger
 *           a system function.
 */

#include "graphic_interface.h"

/*
 * ******************************************************************
 * Global variables:
 * ******************************************************************
 */

uint8_t g_0_number[CHAR_SIZE] = {
		0,1,1,1,1,1,0,0,
		0,1,1,1,1,1,0,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		0,1,1,1,1,1,0,0,
		0,1,1,1,1,1,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_1_number[CHAR_SIZE] = {
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,1,0,0,0,0,1,0,
		0,1,0,0,0,0,1,0,
		1,1,1,1,1,1,1,0,
		1,1,1,1,1,1,1,0,
		0,0,0,0,0,0,1,0,
		0,0,0,0,0,0,1,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_2_number[CHAR_SIZE] = {
		0,1,0,0,0,1,1,0,
		0,1,0,0,0,1,1,0,
		1,0,0,0,1,0,1,0,
		1,0,0,0,1,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,1,0,0,0,1,0,
		1,0,1,0,0,0,1,0,
		0,1,0,0,0,0,1,0,
		0,1,0,0,0,0,1,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_3_number[CHAR_SIZE] = {
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		0,1,1,0,1,1,0,0,
		0,1,1,0,1,1,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_4_number[CHAR_SIZE] = {
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		1,1,1,1,0,0,0,0,
		1,1,1,1,0,0,0,0,
		0,0,0,1,0,0,0,0,
		0,0,0,1,0,0,0,0,
		0,0,0,1,0,0,0,0,
		0,0,0,1,0,0,0,0,
		1,1,1,1,1,1,1,0,
		1,1,1,1,1,1,1,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_5_number[CHAR_SIZE] = {
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		1,1,1,0,0,0,1,0,
		1,1,1,0,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,0,1,1,0,0,
		1,0,0,0,1,1,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_6_number[CHAR_SIZE] = {
		0,1,1,1,1,1,0,0,
		0,1,1,1,1,1,0,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		0,0,0,0,1,1,0,0,
		0,0,0,0,1,1,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_7_number[CHAR_SIZE] = {
		1,0,0,0,0,0,0,0,
		1,0,0,0,0,0,0,0,
		1,0,0,0,0,0,0,0,
		1,0,0,0,0,0,0,0,
		1,0,0,0,1,1,1,0,
		1,0,0,0,1,1,1,0,
		1,0,1,1,0,0,0,0,
		1,0,1,1,0,0,0,0,
		1,1,0,0,0,0,0,0,
		1,1,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_8_number[CHAR_SIZE] = {
		0,1,1,0,1,1,0,0,
		0,1,1,0,1,1,0,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		0,1,1,0,1,1,0,0,
		0,1,1,0,1,1,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_9_number[CHAR_SIZE] = {
		0,1,1,0,0,0,0,0,
		0,1,1,0,0,0,0,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		0,1,1,1,1,1,0,0,
		0,1,1,1,1,1,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_A_letter[CHAR_SIZE] = {
		0,0,1,1,1,1,1,0,
		0,0,1,1,1,1,1,0,
		0,1,0,0,1,0,0,0,
		0,1,0,0,1,0,0,0,
		1,0,0,0,1,0,0,0,
		1,0,0,0,1,0,0,0,
		0,1,0,0,1,0,0,0,
		0,1,0,0,1,0,0,0,
		0,0,1,1,1,1,1,0,
		0,0,1,1,1,1,1,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_B_letter[CHAR_SIZE] = {
		1,1,1,1,1,1,1,0,
		1,1,1,1,1,1,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		0,1,1,0,1,1,0,0,
		0,1,1,0,1,1,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_C_letter[CHAR_SIZE] = {
		0,1,1,1,1,1,0,0,
		0,1,1,1,1,1,0,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		0,1,0,0,0,1,0,0,
		0,1,0,0,0,1,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_D_letter[CHAR_SIZE] = {
		1,1,1,1,1,1,1,0,
		1,1,1,1,1,1,1,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		0,1,0,0,0,1,0,0,
		0,1,0,0,0,1,0,0,
		0,0,1,1,1,0,0,0,
		0,0,1,1,1,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_E_letter[CHAR_SIZE] = {
		1,1,1,1,1,1,1,0,
		1,1,1,1,1,1,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_F_letter[CHAR_SIZE] = {
		1,1,1,1,1,1,1,0,
		1,1,1,1,1,1,1,0,
		1,0,0,1,0,0,0,0,
		1,0,0,1,0,0,0,0,
		1,0,0,1,0,0,0,0,
		1,0,0,1,0,0,0,0,
		1,0,0,1,0,0,0,0,
		1,0,0,1,0,0,0,0,
		1,0,0,0,0,0,0,0,
		1,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_G_letter[CHAR_SIZE] = {
		0,1,1,1,1,1,0,0,
		0,1,1,1,1,1,0,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		0,1,0,1,1,1,0,0,
		0,1,0,1,1,1,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_H_letter[CHAR_SIZE] = {
		1,1,1,1,1,1,1,0,
		1,1,1,1,1,1,1,0,
		0,0,0,1,0,0,0,0,
		0,0,0,1,0,0,0,0,
		0,0,0,1,0,0,0,0,
		0,0,0,1,0,0,0,0,
		0,0,0,1,0,0,0,0,
		0,0,0,1,0,0,0,0,
		1,1,1,1,1,1,1,0,
		1,1,1,1,1,1,1,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_I_letter[CHAR_SIZE] = {
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		1,1,1,1,1,1,1,0,
		1,1,1,1,1,1,1,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_J_letter[CHAR_SIZE] = {
		0,0,0,0,1,1,0,0,
		0,0,0,0,1,1,0,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		1,0,0,0,0,0,1,0,
		1,1,1,1,1,1,0,0,
		1,1,1,1,1,1,0,0,
		1,0,0,0,0,0,0,0,
		1,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_K_letter[CHAR_SIZE] = {
		1,1,1,1,1,1,1,0,
		1,1,1,1,1,1,1,0,
		0,0,0,1,0,0,0,0,
		0,0,0,1,0,0,0,0,
		0,0,0,1,0,0,0,0,
		0,0,0,1,0,0,0,0,
		0,0,1,0,1,0,0,0,
		0,0,1,0,1,0,0,0,
		1,1,0,0,0,1,1,0,
		1,1,0,0,0,1,1,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_L_letter[CHAR_SIZE] = {
		1,1,1,1,1,1,1,0,
		1,1,1,1,1,1,1,0,
		0,0,0,0,0,0,1,0,
		0,0,0,0,0,0,1,0,
		0,0,0,0,0,0,1,0,
		0,0,0,0,0,0,1,0,
		0,0,0,0,0,0,1,0,
		0,0,0,0,0,0,1,0,
		0,0,0,0,0,0,1,0,
		0,0,0,0,0,0,1,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_M_letter[CHAR_SIZE] = {
		1,1,1,1,1,1,1,0,
		1,1,1,1,1,1,1,0,
		0,1,0,0,0,0,0,0,
		0,1,0,0,0,0,0,0,
		0,0,1,1,0,0,0,0,
		0,0,1,1,0,0,0,0,
		0,1,0,0,0,0,0,0,
		0,1,0,0,0,0,0,0,
		1,1,1,1,1,1,1,0,
		1,1,1,1,1,1,1,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_N_letter[CHAR_SIZE] = {
		1,1,1,1,1,1,1,0,
		1,1,1,1,1,1,1,0,
		0,1,1,0,0,0,0,0,
		0,1,1,0,0,0,0,0,
		0,0,0,1,1,0,0,0,
		0,0,0,1,1,0,0,0,
		0,0,0,0,0,1,0,0,
		0,0,0,0,0,1,0,0,
		1,1,1,1,1,1,1,0,
		1,1,1,1,1,1,1,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_P_letter[CHAR_SIZE] =
{
		1,1,1,1,1,1,1,0,
		1,1,1,1,1,1,1,0,
		1,0,0,1,0,0,0,0,
		1,0,0,1,0,0,0,0,
		1,0,0,1,0,0,0,0,
		1,0,0,1,0,0,0,0,
		1,0,0,1,0,0,0,0,
		1,0,0,1,0,0,0,0,
		0,1,1,0,0,0,0,0,
		0,1,1,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_Q_letter[CHAR_SIZE] = {
		0,1,1,1,1,0,0,0,
		0,1,1,1,1,0,0,0,
		1,0,0,0,0,1,0,0,
		1,0,0,0,0,1,0,0,
		1,0,0,0,1,1,0,0,
		1,0,0,0,1,1,0,0,
		1,0,0,0,0,1,0,0,
		1,0,0,0,0,1,0,0,
		0,1,1,1,1,0,1,0,
		0,1,1,1,1,0,1,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_R_letter[CHAR_SIZE] = {
		1,1,1,1,1,1,1,0,
		1,1,1,1,1,1,1,0,
		1,0,0,1,0,0,0,0,
		1,0,0,1,0,0,0,0,
		1,0,0,1,1,0,0,0,
		1,0,0,1,1,0,0,0,
		1,0,0,1,0,1,0,0,
		1,0,0,1,0,1,0,0,
		0,1,1,0,0,0,1,0,
		0,1,1,0,0,0,1,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_S_letter[CHAR_SIZE] = {
		0,1,1,0,0,0,0,0,
		0,1,1,0,0,0,0,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,1,0,0,1,0,
		1,0,0,0,1,1,0,0,
		1,0,0,0,1,1,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_T_letter[CHAR_SIZE] = {
		1,0,0,0,0,0,0,0,
		1,0,0,0,0,0,0,0,
		1,0,0,0,0,0,0,0,
		1,0,0,0,0,0,0,0,
		1,1,1,1,1,1,1,0,
		1,1,1,1,1,1,1,0,
		1,0,0,0,0,0,0,0,
		1,0,0,0,0,0,0,0,
		1,0,0,0,0,0,0,0,
		1,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_U_letter[CHAR_SIZE] = {
		1,1,1,1,1,1,0,0,
		1,1,1,1,1,1,0,0,
		0,0,0,0,0,0,1,0,
		0,0,0,0,0,0,1,0,
		0,0,0,0,0,0,1,0,
		0,0,0,0,0,0,1,0,
		0,0,0,0,0,0,1,0,
		0,0,0,0,0,0,1,0,
		1,1,1,1,1,1,0,0,
		1,1,1,1,1,1,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_V_letter[CHAR_SIZE] = {
		1,1,1,0,0,0,0,0,
		1,1,1,0,0,0,0,0,
		0,0,0,1,1,0,0,0,
		0,0,0,1,1,0,0,0,
		0,0,0,0,0,1,1,0,
		0,0,0,0,0,1,1,0,
		0,0,0,1,1,0,0,0,
		0,0,0,1,1,0,0,0,
		1,1,1,0,0,0,0,0,
		1,1,1,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_colon_char[CHAR_SIZE] = {
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,1,1,0,1,1,0,
		0,0,1,1,0,1,1,0,
		0,0,1,1,0,1,1,0,
		0,0,1,1,0,1,1,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_slash_char[CHAR_SIZE] = {
		0,0,0,0,0,1,1,0,
		0,0,0,0,0,1,1,0,
		0,0,0,0,1,1,0,0,
		0,0,0,0,1,1,0,0,
		0,0,0,1,0,0,0,0,
		0,0,0,1,0,0,0,0,
		0,1,1,0,0,0,0,0,
		0,1,1,0,0,0,0,0,
		1,1,0,0,0,0,0,0,
		1,1,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_point_char[CHAR_SIZE] = {
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,1,1,0,
		0,0,0,0,0,1,1,0,
		0,0,0,0,0,1,1,0,
		0,0,0,0,0,1,1,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_deg_char[CHAR_SIZE] = {
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		1,1,1,0,0,0,0,0,
		1,1,1,0,0,0,0,0,
		1,0,1,0,0,0,0,0,
		1,0,1,0,0,0,0,0,
		1,1,1,0,0,0,0,0,
		1,1,1,0,0,0,0,0,
		0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0
};

uint8_t g_blank_char[CHAR_SIZE] = {0};

uint8_t * g_char_decode[CHAR_SIZE] = {
		g_0_number,g_1_number,g_2_number,g_3_number,g_4_number,g_5_number,
		g_6_number,g_7_number,g_8_number,g_9_number,g_A_letter,g_B_letter,
		g_C_letter,g_D_letter,g_E_letter,g_F_letter,g_G_letter,g_H_letter,
		g_I_letter,g_J_letter,g_K_letter,g_L_letter,g_M_letter,g_N_letter,
		g_0_number,g_P_letter,g_Q_letter,g_R_letter,g_S_letter,g_T_letter,
		g_U_letter,g_V_letter
};

/*
 * ******************************************************************
 * Function code:
 * ******************************************************************
 */

/*
 * @brief: Initialization of the modules required for the functioning of the
 *         display (ILI9341 and XPT2046).
 */
void GUI_init(void)
{
	RGB_pixel_t white = {0x1F, 0x3F, 0x1F};
	Display_config_peripherals();
	Touch_config_peripherals();
	Display_init();
	Display_fill_screen(white);
}


/*
 * @brief: Moves the cursor (which is merely conceptual to help the user move
 *         around the screen), marking the place where the next message will
 *         be written.
 */
void GUI_set_cursor(uint16_t x, uint16_t y)
{
	uint16_t window_w = SCREEN_WIDTH  - x;
	Display_set_window(x, y, window_w, CHAR_HEIGHT);
}


/*
 *
 */
void GUI_write_char(uint8_t c)
{
	RGB_pixel_t gray = {0x1F, 0x3F, 0x1F};
	RGB_pixel_t black = {0x00, 0x00, 0x00};
	uint32_t i = 0;
	uint8_t * char_array;

	if ((c >= '0') && (c <= '9'))
	{
		char_array = g_char_decode[c - 0x30];
	}
	else if ((c >= 'A') && (c <= 'V'))
	{
		char_array = g_char_decode[c - 0x41 + 10];
	}
	else if (':' == c)
	{
		char_array = g_colon_char;
	}
	else if ('.' == c)
	{
		char_array = g_point_char;
	}
	else if ('/' == c)
	{
		char_array = g_slash_char;
	}
	else if ('^' == c)
	{
		char_array = g_deg_char;
	}
	else
	{
		char_array = g_blank_char;
	}


	for (i=0; i<CHAR_SIZE; i++)
	{
		if (char_array[i])
		{
			Display_paint_color(black, 3);
		}
		else
		{
			Display_paint_color(gray, 3);
		}
	}
}


/*
 *
 */
void GUI_write_string(screen_message_t * msg)
{
	uint32_t i = 0;
	for (i=0; i<msg->msg_size; i++)
	{
		GUI_write_char(msg->message[i]);
	}
}


/*
 *
 */
void GUI_create_button(button_t * btn_info)
{
	RGB_pixel_t gray = {0x07, 0x0F, 0x07};
	Display_set_window(btn_info->x, btn_info->y, btn_info->w, btn_info->h);
	Display_paint_color(gray, (btn_info->w * btn_info->h * 3) / 2);
	GUI_set_cursor(btn_info->x + 12, btn_info->y + 8);
	GUI_write_string(&btn_info->btn_msg);
}


/*
 *
 */
bool GUI_button_pressed(button_t * btn_info)
{
	Coordinate_t pressed_spot = {0};
	uint16_t x1_btn = btn_info->x - 24;
	uint16_t x2_btn = btn_info->x + btn_info->w + 24;
	uint16_t y1_btn = btn_info->y - 24;
	uint16_t y2_btn = btn_info->y + btn_info->h + 24;
	bool pressed = false;

	if (Touch_pressed())
	{
		Touch_clear_irq_flag();
		pressed_spot = Touch_get_coordinates();

		if ((pressed_spot.x_position >= x1_btn) && (pressed_spot.x_position <= x2_btn))
		{
			if ((pressed_spot.y_position >= y1_btn) && (pressed_spot.y_position <= y2_btn))
			{
				pressed = true;
			}
		}
	}

	return pressed;
}
